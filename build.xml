<?xml version="1.0"?>
<project name="concept" default="escjava2" basedir=".">
	<property name="src" value="src"/>
	<property name="build" value="bin"/>  
	<property name="lib" value="lib"/>	
	<property name="sep" value="."/>	
	<property name="concept" value="ie${sep}ucd${sep}srg${sep}concept"/>
	<property name="packages" value="${concept}${sep}tools${sep}sort ${concept}${sep}cbr ${concept}${sep}cbr${sep}feature ${concept}${sep}cbr${sep}knn "/>

	<target name="compile" description="Compiles the Project">
		<javac srcdir="${src}" destdir="${build}"/>
	</target>
	
	<target name="makefilelist" description="generates a list of the Java files in a Project">
		<touch file="filelist"/>
		<java classname="ie.ucd.srg.concept.tools.JavaFileNameFinder" classpath="${build}"/>
	</target>
		
	<target name="escjava2" description="Runs ESCJava2 on the File List generated by makefilelist">
		<exec executable="/bin/sh" os="linux">
			<arg line='-c "/usr/local/esc2java/escj -cp $CLASSPATH:${src} -Specs ../JmlSpecs/jmlSpecs -List filelist"'/>
		</exec>
		<exec executable="C:/Program Files/ESCJava-2.0a9/escj.bat" os="Windows XP">
			<arg line="-cp ${src} -Specs ../JmlSpecs/jmlSpecs -List filelist -routine getName"/>
		</exec>
	</target>
	
	<target name="runescjava2" depends="makefilelist,escjava2,deletefilelist"/>
		
	<target name="deletefilelist" description="Deletes the Java filelist">
		<delete file="filelist"/>
	</target>
</project>